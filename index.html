<!DOCTYPE html>
<html lang="en" style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; color: rgb(39, 39, 39)">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{{pageTitle}}</title>
		<meta name="description" content="bind-js frontend framework" />
	</head>
	<body>
		<div id="app">
			<h1>{{welcomeMessage}}</h1>
			<section id="rating-section">
				<span>Likes: {{likeCount}}</span>
				<button id="rate-btn-positive">like</button>
				<button id="rate-btn-negative">dislike</button>
			</section>
			<div>
				<input id="name-input" placeholder="Enter your name" />
				<h2>{{greeting}}</h2>
			</div>
		</div>
		<script type="module">
			import Bind from "./bind.min.js";

			let likeCount = 0;
			let greeting = "";

			const bind1 = new Bind();
			bind1.render(
				"body",
				{
					welcomeMessage: "bind-js prototype examples",
					greeting: () => greeting,
					likeCount: () => likeCount,
				},
				() => {
					document.querySelector("#rate-btn-positive").addEventListener("click", () => likeCount++);
					document.querySelector("#rate-btn-negative").addEventListener("click", () => likeCount--);
					document.querySelector("#name-input").addEventListener("input", (event) => {
						if (event.target.value.length >= 1) {
							greeting = "Hello " + event.target.value;
						} else {
							greeting = "";
						}
					});
				}
			);

			const bind2 = new Bind();
			bind2.render("head", {
				pageTitle: "bind-js playground",
			});
		</script>
	</body>
</html>
